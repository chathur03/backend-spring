```markdown
# PayEasy Bills Service

## Overview
The Bills Service is a Spring Boot microservice responsible for managing user bills within the PayEasy payment ecosystem. It handles bill creation, retrieval, status updates, and provides essential bill payment functionalities independent of other services.

## Features
- Create new bills for users (utilities, recharges, etc.)
- Retrieve bills by user and by status (e.g., pending, paid)
- Pay bills (updates bill status to PAID)
- Simple status management with PENDING and PAID states

## Technology Stack
- Java 17+
- Spring Boot 3.x
- Spring Data JPA with Oracle 19c
- RESTful Web Services
- Maven for dependency management

## Setup Instructions

### Prerequisites
- Oracle Database 19c installed and running
- Java JDK 17 or above
- Eclipse IDE with Spring Boot support
- Port 8081 available

### Installation

1. Clone the repository:
   ```
   git clone <your-bills-service-repo-url>
   cd bills-service
   ```

2. Configure Oracle connection in `src/main/resources/application.properties`:
   ```
   spring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl
   spring.datasource.username=YOUR_DB_USERNAME
   spring.datasource.password=YOUR_DB_PASSWORD
   spring.jpa.hibernate.ddl-auto=update
   spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.OracleDialect
   ```

3. Automatically the `BILLS` table is created in Oracle database:
   ```
   CREATE TABLE BILLS (
       bill_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
       user_id NUMBER NOT NULL,
       biller_name VARCHAR2(100),
       bill_type VARCHAR2(50),
       account_number VARCHAR2(50),
       amount NUMBER(10, 2),
       status VARCHAR2(20),
       due_date DATE,
       created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
   );
   ```

4. Import the project into Eclipse as a Maven project.

5. Run the project using Eclipse’s Spring Boot run configuration:
   - Right-click project → Run As → Spring Boot App

## API Documentation

### Base URL
`http://localhost:8081/api/bills`

### Endpoints

| Method | Endpoint                  | Description                             |
| ------ | -------------------------| ------------------------------------- |
| POST   | `/`                      | Create a new bill                      |
| GET    | `/user/{userId}`          | List bills for given user              |
| GET    | `/user/{userId}/status/{status}` | List bills by status for user            |
| PUT    | `/{billId}/pay`           | Mark a bill as paid                    |

### Sample Requests / Responses

#### Create Bill
Request:
```
{
  "userId": 1,
  "billerName": "Electricity Board",
  "billType": "Electricity",
  "accountNumber": "ACC123456",
  "amount": 1500.0,
  "status": "PENDING",
  "dueDate": "2025-09-15"
}
```
Response:
```
{
  "billId": 10,
  "userId": 1,
  "billerName": "Electricity Board",
  "billType": "Electricity",
  "accountNumber": "123456",
  "amount": 1500.0,
  "status": "PENDING",
  "dueDate": "2025-09-15T00:00:00.000+00:00",
  "createdAt": "2025-08-28T05:00:00.000+00:00"
}
```

#### Pay Bill
Response for `PUT /{billId}/pay` when bill exists:
```
{
  "billId": 10,
  "userId": 1,
  "billerName": "Electricity Board",
  "billType": "Electricity",
  "accountNumber": "123456",
  "amount": 1500.0,
  "status": "PAID",
  "dueDate": "2025-09-15T00:00:00.000+00:00",
  "createdAt": "2025-08-28T05:00:00.000+00:00"
}
```
If bill not found:
```
HTTP 400 Bad Request
Body: "Bill not found"
```

---

## How to Test

Use Postman or curl to test APIs:

- Create bill (POST `/api/bills`)
- List bills for user (GET `/api/bills/user/{userId}`)
- Filter bills by status (GET `/api/bills/user/{userId}/status/{status}`)
- Pay bill (PUT `/api/bills/{billId}/pay`)

---

## Future Enhancements

- Integrate real payment gateway for bill payment transactions
- Add authentication and authorization for secure access
- Implement pagination and filtering for bill listings
- Publish events on bill status changes for other services

---

## License

MIT License
```